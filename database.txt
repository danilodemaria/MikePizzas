create user pizza with password '1234';
create database db_pizzaria with owner pizza;

create table bebida(
	id serial primary key,
	nome varchar(100),
	preco decimal(10,2),
	excluido boolean
);

create table sabor(
	id serial primary key,
	nome varchar(100),
	ingredientes varchar(100),
	excluido boolean
);

create table pizza(
	id serial primary key,
	tamanho varchar(100),
	preco decimal(10,2),
	excluido boolean
);

create table pessoa_fisica(
	id serial primary key,
	nome varchar(100),
	telefone varchar(100),
	endereco varchar(150),
	rg varchar(20),
	cpf varchar(20),
	excluido boolean
);

create table pessoa_juridica(
	id serial primary key,
	nome varchar(100),
	telefone varchar(100),
	endereco varchar(150),
	cnpj varchar(20),
	inscricao varchar(20),
	excluido boolean
);

create table pedido(
	id serial primary key,
	id_cliente integer,
	valor decimal(10,2),
	juridico boolean
);

create table pedido_pizza(
	id serial primary key,
	id_pedido integer,
	id_pizza integer
);

create table pedido_bebida(
	id serial primary key,
	id_pedido integer,
	id_bebida integer
);

create table pedido_sabor(
	id serial primary key,
	id_pedido integer,
	id_sabor integer
);


ALTER TABLE pedido ADD FOREIGN KEY (id_cliente) REFERENCES pessoa_fisica(id);
ALTER TABLE pedido ADD FOREIGN KEY (id_cliente) REFERENCES pessoa_juridica(id);
ALTER TABLE pedido_pizza ADD FOREIGN KEY (id_pedido) REFERENCES pedido(id);
ALTER TABLE pedido_pizza ADD FOREIGN KEY (id_pizza) REFERENCES pizza(id);
ALTER TABLE pedido_bebida ADD FOREIGN KEY (id_pedido) REFERENCES pedido(id);
ALTER TABLE pedido_bebida ADD FOREIGN KEY (id_bebida) REFERENCES bebida(id);
ALTER TABLE pedido_sabor ADD FOREIGN KEY (id_pedido) REFERENCES pedido(id);
ALTER TABLE pedido_sabor ADD FOREIGN KEY (id_sabor) REFERENCES sabor(id);

